[patterns]
twoEqualDateLegs = legs.get(0).optionConfig.expiryDateExpression.compareTo(legs.get(1).optionConfig.expiryDateExpression) == 0 
shortSpreadMargin = legs.get(0).optionConfig.strikePrice.subtract(legs.get(1).optionConfig.strikePrice).abs().multiply(legs.get(1).optionRoot.multiplier).multiply(legs.get(1).qty)

[strategyGroup/core]
strategies = CallVerticalLong, PutVerticalLong, CallVerticalShort, PutVerticalShort
CallVerticalShort.legs = longCalls,shortCalls
CallVerticalShort.pattern = legs.get(0).optionConfig.strikePrice.compareTo(legs.get(1).optionConfig.strikePrice) > 0 
CallVerticalShort.pattern = ${patterns/twoEqualDateLegs}
CallVerticalShort.margin = ${patterns/shortSpreadMargin}
PutVerticalShort.legs = longPuts,shortPuts
PutVerticalShort.pattern = legs.get(0).optionConfig.strikePrice.compareTo(legs.get(1).optionConfig.strikePrice) < 0
PutVerticalShort.pattern = ${patterns/twoEqualDateLegs}
PutVerticalShort.margin = ${patterns/shortSpreadMargin}
CallVerticalLong.legs = longCalls,shortCalls
CallVerticalLong.pattern = legs.get(0).optionConfig.strikePrice.compareTo(legs.get(1).optionConfig.strikePrice) <= 0
CallVerticalLong.pattern = ${patterns/twoEqualDateLegs}
CallVerticalLong.margin = zero
PutVerticalLong.legs = longPuts,shortPuts
PutVerticalLong.pattern = legs.get(0).optionConfig.strikePrice.compareTo(legs.get(1).optionConfig.strikePrice) >= 0
PutVerticalLong.pattern = ${patterns/twoEqualDateLegs}
PutVerticalLong.margin = zero
